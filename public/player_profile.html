<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Player Profile</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body>
  <div class="container mt-5">
    <h2 id="name">Player</h2>
    <ul class="list-group" id="stats"></ul>
    <p class="text-danger mt-3" id="error"></p>
  </div>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const id = urlParams.get('id') || window.location.pathname.split('/').pop();

    async function loadProfile() {
      try {
        const res = await fetch(`/api/public/players/${id}`);
        const player = await res.json();

        if (!res.ok || player.error) throw new Error(player.error || 'Player not found');

        document.getElementById('name').textContent = player.name;
        const statsEl = document.getElementById('stats');
        Object.entries(player.stats).forEach(([key, val]) => {
          const li = document.createElement('li');
          li.className = 'list-group-item';
          li.textContent = `${key}: ${val}`;
          statsEl.appendChild(li);
        });
      } catch (err) {
        document.getElementById('error').textContent = err.message;
      }
    }

    loadProfile();
  </script>
  <hr />
    <div class="text-center mb-4">
      <a href="/" class="btn btn-outline-primary">‚Üê Back to Home</a>
    </div
</body>
</html>
